[appendix]
[[background_and_context]]
== Background and Context (Normative)

=== Background

An open standard non-proprietary platform-independent GeoPackage container for distribution and direct use of all kinds of geospatial data will increase the cross-platform interoperability of geospatial applications and web services. Standard APIs for access and management of GeoPackage data will provide consistent query and update results across such applications and services. Increased interoperability and result consistency will enlarge the potential market for such  applications and services, particularly in resource-constrained mobile computing environments like cell phones and tablets. GeoPackages will become the standard containers for "MyGeoData" that are used as a transfer format by users and Geospatial Web Services and a storage format on personal and enterprise devices.

This OGC® GeoPackage Encoding Standard defines a GeoPackage as a self-contained, single-file,
cross-platform, serverless, transactional, open source SQLite data container with table definitions, relational
integrity constraints, an SQL API exposed via a "C" CLI and JDBC, and manifest tables that together act as an exchange and direct-use format for multiple types of geospatial data including vector features, features with raster attributes and tile matrix pyramids, especially on mobile / hand held devices in disconnected or limited network connectivity environments.

Table formats, definitions of geometry types and metadata tables, relational integrity constraints, and SQL API are interdependent specification facets of the SF-SQL <<9>><<10>><<11>> and SQL-MM (Spatial) <<12>> standards that serve as normative references for the vector feature portion of this specification.

This specification attempts to support and use relevant raster types, storage table definitions, and metadata from widely adopted implementations and existing standards such as WMTS <<16>> and ISO metadata <<28>>, to integrate use of rasters as attributes of geospatial features, and to define relational integrity constraints and an SQL API thereon to provide a raster analogy to the SF-SQL and SF-MM data access and data quality assurance capabilities.

Conformance classes for this specification are classified as core (mandatory) and extension (optional). The simple core of an Empty GeoPackage contains two SQL tables.

Future versions of this specification willmay include requirements for elevation data and routes. Future enhancements to this specification, a future GeoPackage Web Service specification, and modifications to existing OGC Web Service (OWS) specifications to use GeoPackages as exchange formats willmay allow OWS to support provisioning of GeoPackages throughout an enterprise or information community.

=== Document terms and definitions

This document uses the standard terms defined in Subclause 5.3 of [OGC 06-121], which is based on the ISO/IEC Directives, Part 2. Rules for the structure and drafting of International Standards. In particular, the word "shall" (not "must") is the verb form used to indicate a requirement to be strictly followed to conform to this standard.

For the purposes of this document, the following terms and definitions apply.

[glossary]
Empty GeoPackage::
    A GeoPackage that contains a `gpkg_spatial_ref_sys` table, a `gpkg_contents` table with row record(s) with `data_type` column values of "features" or "tiles", and corresponding features tables per clause <<features>> and/or tiles tables per clause <<tiles>> where the user data tables per clauses 2.1.6. and 2.2.8 exist but contain no rows.
Extended GeoPackage::
    A GeoPackage that contains any additional data elements (tables or columns) or SQL constructs (data types, indexes, constraints or triggers) that are not specified in this encoding standard.
geolocate::
    identify a real-world geographic location
GeoPackage file::
    a platform-independent SQLite database file that contains GeoPackage data and metadata tables with specified definitions, integrity assertions, format limitations and content constraints.
GeoPackage SQLite Configuration::
    consists of the SQLite 3 software library and a set of compile- and runtime configurations options.
GeoPackage SQLite Extension::
    a SQLite loadable extension that MAY provide SQL functions to support spatial indexes and SQL triggers linked to a SQLite library with specified configuration requirements to provide SQL API access to a GeoPackage.
georectified::
    raster whose pixels have been regularly spaced in a geographic (i.e., latitude / longitude) or projected map coordinate system using ground control points so that any pixel can be geolocated given its grid coordinate and the grid origin, cell spacing, and orientation.
orthorectified::
    georectified raster that has also been corrected to remove image perspective (camera angle tilt), camera and lens induced distortions, and terrain induced distortions using camera calibration parameters and DEM elevation data to accurately align with real world coordinates, have constant scale, and support direct measurement of distances, angles, and areas.
Valid GeoPackage::
    A GeoPackage that contains features per clause <<_features>> and/or tiles per clause <<tiles>> and row(s) in the `gpkg_contents` table with `data_type` column values of "features" and/or "tiles" describing the user data tables.

=== Conventions

Symbols (and abbreviated terms)

[terms]
ACID::
    Atomic, Consistent, Isolated, and Durable
ASCII::
    American Standard Code for Information Interchange
API::
       Application Program Interface
BLOB::
        Binary Large OBject
CLI::
       Call-Level Interface
COTS::
        Commercial Off The Shelf
DEM::
       Digital Elevation Model
GPKG::
        GeoPackage
GRD::
       Ground Resolved Distance
EPSG::
        European Petroleum Survey Group
FK::
      Foreign Key
IETF::
        Internet Engineering Task Force
IIRS::
        Image Interpretability Rating Scale
IRARS::
         Imagery Resolution Assessments and Reporting Standards (Committee)
ISO::
       International Organization for Standardization
JDBC::
        Java Data Base Connectivity
JPEG::
        Joint Photographics Expert Group (image format)
MIME::
        Multipurpose Internet Mail Extensions
NIIRS::
        National Imagery Interpretability Rating Scale
OGC::
        Open Geospatial Consortium
PK::
      Primary Key
PNG::
       Portable Network Graphics (image format)
RDBMS::
         Relational Data Base Management System
RFC::
       Request For Comments
SQL::
       Structured Query Language
SRID::
        Spatial Reference (System) Identifier
UML::
       Unified Modeling Language
UTC::
       Coordinated Universal Time
XML::
       eXtensible Markup Language
1D::
      One Dimensional
2D::
      Two Dimensional
3D::
      Three Dimensional

=== Submitting Organizations (Informative)

The following organizations submitted this Encoding Standard to the Open Geospatial Consortium Inc. as a
Request For Comment (RFC).

* Envitia
* Luciad
* Sigma Bravo
* The Carbon Project
* U.S. Army Geospatial Center
* U.S. National Geospatial Intelligence Agency

=== Document contributor contact points (Informative)

All questions regarding this document should be directed to the editor or the contributors:

.Document contributors
[cols="1,2,2a",options="header",]
|=======================================================================
|Name |Organization |Email
|Brett Antonides |LNM Solutions |brett.antonides<at>lmnsolutions.com
|Kevin Backe |U.S. Army Geospatial Center GASD |Kevin.Backe<at>usace.army.mil
|Roger Brackin |Envitia |roger.brackin<at>envitia.com
|Scott Clark |LNM Solutions |scott.clark<at>lmnsolutions.com
|David Cray |U.S. Army Geospatial Center GASD |David.Cray<at>usace.army.mil
|Paul Daisey |Image Matters |pauld<at>imagemattersllc.com
|Nathan P. Frantz |U.S. Army Geospatial Center ERDC |Nathan.P.Frantz<at>usace.army.mil
|Alessandro Furieri |Spatialite |a.furieri<at>lqt.it
|Randy Gladish |Image Matters |randyg<at>imagemattersllc.com
|Eric Gundersen |MapBox |eric<at>mapbox.com
|Brad Hards |Sigma Bravo |bhards<at>sigmabravo.com
|Jeff Harrison |The Carbon Project |jharrison<at>thecarbonproject.com
|Chris Holmes |OpenGeo |cholmes<at>9eo.org
|Sean Hogan |Compusult |sean<at>compusult.net
|Kirk Jensen |Image Matters |kirkj<at>imagemattersllc.com
| (chinese chars not working) Joshua |Feng China University |joshua<at>gis.tw
|Terry A. Idol |U.S. National Geospatial Intelligence Agency  |Terry.A.Idol<at>nga.mil
|Drew Kurry |Digital Globe |dkurry<at>digitalglobe.com
|Steven Lander |Reinventing Geospatial |steven.lander<at>rgi-corp.com
|Tom MacWright |MapBox |tom<at>mapbox.com
|Joan Maso Pau |Universitat Autònoma de Barcelona (CREAF) |joan.maso<at>uab.es
|Kevin S. Mullane |U.S. Army Geospatial Center GASD |Kevin.S.Mullane<at>usace.army.mil
| (chinese chars not working) Yi-Min Huang |Feng China University |niner<at>gis.tw
|Andrea Peri |Regione Toscana Italy |andrea.peri<at>regione.toscana.it
|Paul Ramsey |OpenGeo |pramsey<at>opengeo.org
|Matthew L. Renner |U.S. Army Geospatial Center ERDC |Matthew.L.Renner<at>usace.army.mil
|Even Rouault |Mines-Paris |even.rouault<at>mines-paris.org
|Keith Ryden |Environmental Systems Research Institute |kryden<at>esri.com
|Scott Simmons |CACI |scsimmons<at>caci.com
|Ingo Simonis |International Geospatial Services Institute |ingo.simonis<at>igsi.eu
|Raj Singh |Open Geospatial Consortium |rsingh<at>opengeospatial.org
|Steve Smyth |Open Site Plan |steve<at>opensiteplan.org
|Donald V. Sullivan |U.S. National Aeronautics and Space Administration |donald.v.sullivan<at>nasa.gov
|Christopher Tucker |Mapstory |tucker<at>mapstory.org
|Benjamin T. Tuttle |U.S. National Geospatial Intelligence Agency |Benjamin.T.Tuttle<at>nga.mil
|Pepijn Van Eeckhoudt |Luciad |pepijn.vaneeckhoudt<at>luciad.com
|David G. Wesloh |U.S. National Geospatial Intelligence Agency |David.G.Wesloh<at>nga.mil
|Jeff Yutzler |Image Matters |jeffy<at>imagemattersllc.com
|Eric Zimmerman |U.S. Army Geospatial Center ERDC |Eric.Zimmerman<at>usace.army.mil
|=======================================================================

=== Revision History (Informative)

.Revision History
[cols="2,1,2,2,5a",options="header",]
|=======================================================================
|Date |Rel |Editor |Paragraph modified |Description
|2012-11-15 |r1 |Paul Daisey |10.3 |Remove min/max x/y fields from all tables and text in clause 10.3 Tile Table Metadata
per change request 250 / 12-135.
|2012-11-15 |r1 |Paul Daisey |10.2, Annex B |add compr_qual_factor and georectification columns to raster_columns table create statement and sample insert statement; add triggers for those columns matching those for _rt_metadata per change request 251 / 12-134
|2013-01-15 |r2 |Paul Daisey |8.2 |Change gpkg_contents description default value per change request 255 / 12-166
|2013-01-15 |r2 |Paul Daisey |9.2, Annex A  |SRS Table Name Change per change request 256 / 12-165
|2013-01-16 |r2 |Paul Daisey |7, Figure 2 |table diagram gpkg_contents min_y REAL instead of BLOB
|2013-01-23 |r2 |Paul Daisey |11.3, 8.2 |Clause reference corrections, change gpkg_contents.identifier default value to ""
|2013-02-01 |r2 |Paul Daisey |Changes to AS |No changes to AS
|2013-02-01 |r2 |Paul Daisey |8.2 |new last sentence and NOTE1, additional table name triggers
|2013-02-01 |r2 |Paul Daisey |9.6 |drop tables 21, 22 and associated text
|2013-02-01 |r2 |Paul Daisey |10.5 |misc. editorial changes
|2013-02-01 |r2 |Paul Daisey |11.2 |REQ 71 should refer to clause 11.2 and not 11.1
|2013-02-01 |r2 |Paul Daisey |12 |new clause 12 other data
|2013-02-01 |r2 |Paul Daisey |13.2 |rename tables 56,57 remove "ows_" prefix
|2013-02-08 |r3 |Paul Daisey |10.2, 10.7, 10.8 |Use -1 as "magic" value indicating "unknown" for both compr_qual_factor and georectification columns, and make it the default value. Remove NOTE1 in 10.7. Delete the next to last row in Table 46 - Image Routines for gpkgBboxToTiles (). Delete the corresponding sub-clause 10.8.10 Renumber sub-clause 10.8.11 to 10.8.10
|2013-02-22 |R3 |Paul Daisey |Normative References, Future Work, 6, Bibliography |The GeoPackage file format and SQL API are provided by SQLite, which is the GeoPackage container implementation, not just a a reference implementation. 
|2013-03-05 |R3 |Paul Daisey |6.4 |Add Security Considerations clause.
|2013-03-05 |R3 |Paul Daisey |Future Work |Streaming synchronization
|2013-03-30 |R3 |Paul Daisey |Normative References, 
All, Bibliography |Move references to geos and proj4 libraries from Normative References to Bibliography, remove references to them from main text.
|2013-03-30 2013-04-01 |R3 |Paul Daisey |Reorganize document and Annexes |New Core / Extension outline.
|2013-03-30 |R3 |Paul Daisey |6.3.2.2 |auth_name column case-insensitive
|2013-03-30 |R3 |Paul Daisey | |Add feature table layout example
|2013-04-01 |R3 |Paul Daisey |All,Annex B |Move table definition SQL to Annex B
|2013-04-01 |R3 |Paul Daisey |7.2.4 |Remove requirements for SQL/MM functions, REQ 21 – 33.
|2013-04-03 |R3 |Paul Daisey |All |Renumber tables, figures, normative references
|2013-04-09 |R4 |Paul Daisey |6.3.6 |Make integer primary keys mandatory for user vector, raster and tile data tables.
|2013-04-09 |R4 |Paul Daisey |6.3.3.2, |Rewrite clause, remove references to geometry_columns table columns that are superfuluous in SQLite implementation.
|2013-04-09 |R4 |Paul Daisey |6.3.6.1 |Rewrite clause, remove references to SF/SQL gS and gB architectures.
|2013-04-18 |R4 |Paul Daisey |6.3.4.1, 6.3.4.2, 6.3.6.3 |Remove normative references to RasterLite
|2013-04-19 |R4 |Paul Daisey |6.3.6.3 |GeoPackage description of other data tables.
|2013-04-29 |R4 |Paul Daisey |All |Remove implementation references
|2013-04-29 |R4 |Paul Daisey |6.3.6.3, Annex G |Remove manifest other data entries
|2013-04-29 |R4 |Paul Daisey |6.3.2.4.2, Annex B, E |Allow metadata of specified MIME type
|2013-04-29 |R4 |Paul Daisey  |6.3.2.4.3, Annex B, E |Allow NULLs in metadata_reference table
|2013-04-29 |R4 |Paul Daisey |6.3.3.2, new Annex F |Geometry type codes
|2013-04-29 |R4 |Paul Daisey |6.3.2.4, new Annex L |Feature Schema Metadata example
|2013-05-03 |R5 |Paul Daisey |Future Work |Geographic / Geodetic Geometries
|2013-05-07 |R5 |Paul Daisey |6.3.4.2, Annex C, E |Remove compr_qual_factor and georectification columns from raster_columns table
|2013-05-07 |R5 |Paul Daisey |6.3.2.4, 6.3.4.3, new Annex M |delete _rt_metadata tables
add Annex M
reference Annex M from note in 6.3.2.4
|2013-05-07 |R5 |Paul Daisey |7.1.1, Normative References, Bibliography  |Add NITF as an extension image format
|2013-05-07 |R5 |Paul Daisey |6.3.1 |Revise Table Diagram
|2013-05-07 |R5 |Paul Daisey |7.3.3, Annex C |Remove raster functions
|2013-05-11 |R5 |Paul Daisey |6.3.2.4.3 |metadata_reference table is not required to contain any rows
|2013-05-11 |R5 |Paul Daisey |6.3.2.4.2 |Recommend ISO 19139 metadata
|2013-05-11 |R5 |Paul Daisey |6.3, Annex B |Default values
|2013-05-11 |R5 |Paul Daisey |7.3.3, Annex C |Minimal Runtime SQL Functions
|2013-05-11 |R5 |Paul Daisey |7.3.4, Annex D |Spatial Indexes
|2013-05-13 |R5 |Paul Daisey |6, 7 |Reformat requirement tables, unduplicate requirement text
|2013-05-15 |R5 |Paul Daisey |6.3.1, 6.3.2.4, 
6.3.4.2, 
7.3.5.5, 
Annex B,
remove Annex L |Replace raster_columns table, Annex L with gpkg_data_columns table
|2013-05-16 |R5 |Paul Daisey |6.3.2.3, 7.4, Annex G,H,I |Drop manifest table, schemas, sample document
|2013-05-16 |R5 |Paul Daisey |Future Work |Add GeoPackage Abstract Object Model
|2013-05-22 |R5 |Paul Daisey |6.2.1, 6.3.3.1, 
new 7.1.1,
Annex F |Add optional support for non-linear geometry types
|2013-05-22 |R5 |Paul Daisey |7.3.2 |Add SQLite configuration requirements
|2013-05-22 |R5 |Paul Daisey |6.3, 7.2 |Require only gpkg_contents and spatial_ref_sys tables
|2013-05-24 |R5 |Paul Daisey |7.2.1.3 |Add gpkg_extensions table
|2013-05-24 |R5 |Paul Daisey |7.3.4, Annex D |Provide spatial index templates instead of examples
|2013-05-25 |R5 |Paul Daisey |Preface, Scope, Terms, 6, 7 |Simplify, rewrite, add terms, use terms
|2013-05-26 |R5 |Paul Daisey |All |Incorporate terms, renumber requirements and tables
|2013-05-28 |R5 |Paul Daisey |6.1.2 |Add "GPKG" as SQLite application id
|2013-05-28 |R5 |Paul Daisey |6.1.2 |Add SQLITE PRAGMA integrity_check 
|2013-05-28 |R5 |Paul Daisey |6.2.1 |Geometry format minor changes
|2013-05-28 |R5 |Paul Daisey |6.3.2.2, Annex E |Remove references to raster_columns table (removed previously)
|2013-05-28 |R5 |Paul Daisey |All |Clause number references and text changes required by 5/22 changes
|2013-05-28 |R5 |Paul Daisey |All |Remove comments on accepted changes
|2013-05-28 |R5 |Paul Daisey |Annex E E.4 |Add non-linear geometry type codes
|2013-05-29 |R5 |Paul Daisey |7.2.4.1 |Change reference from SF/SQL to SQL/MM 
|2013-05-29 |R5 |Paul Daisey |All |Change core and extension requirement names required by 5/22 changes
|2013-05-29 |R5 |Paul Daisey |Table 16 |Change extension to API to avoid overloading extension term
|2013-05-29 |R5 |Paul Daisey |A.2 |Draft changes to A.2 Conformance Classes
|2013-05-29 |R5 |Paul Daisey |B.3 |Add gpkg_data_columns table SQL
|2013-05-30 |R5 |Paul Daisey |Revision History |Record 5/29 changes
|2013-06-06 |R6 |Paul Daisey |Preface, Submission Contact Points, Revision History, Changes to AS, Changes to IS,
Future Work,
Forward,
Introduction, 
Clauses 1-5 |Remove all forward material except title page, submitting orgs, and introduction, and put in annexes.
|2013-06-07 |R6 |Paul Daisey |Old Clauses 6,7 -> New 1-3 |Restructure document iaw draft Requirements Dependencies
|2013-06-07 |R6 |Paul Daisey |Annex A |Revised Requirements Dependencies and Diagram
|2013-06-10 |R6 |Paul Daisey |All |Fix clause and requirement references based on document restructure
|2013-06-10 |R6 |Paul Daisey |Annex A |Add Abstract Test Suite (incomplete)
|2013-06-11 |R6 |Paul Daisey |Clause 1,2, Annex A |Insert Base and Extension subclauses, renumber more deeply nested subclauses
|2013-06-12 |R6 |Paul Daisey |Annex G |Remove names and codes for Z and M geometry types, add Figure 5 and geometry subtype definitions
|2013-06-12 |R6 |Paul Daisey |Clause 1.2.2.6 |Rewrite clause, add new Requirement 10, 11, renumber existing and subsequent ones.
|2013-06-12 |R6 |Paul Daisey |Annex D |Add ST_Is3D() and ST_IsMeasured()
|2013-06-12 |R6 |Paul Daisey |All |Add "gpkg_" prefix to all GeoPackage metadata tables
|2013-06-12 |R6 |Paul Daisey |Figure 1, 2 |Update with "gpkg_" prefix
|2013-06-12 |R6 |Paul Daisey |Annex A |Add Abstract Test Suite (incomplete)
|2013-06-13  |R6 |Paul Daisey |1.2.4.1 |Add sentence to end of first paragraph describing gpkg_other_data_columns content..
|2013-06-13  |R6 |Paul Daisey |Annex A |Add Abstract Test Suite (incomplete)
|2013-06-17 |R6 |Paul Daisey |Clause 1,2,3 |Revised notes and turned them into footnotes; moved normative text into requirement statements.
|2013-06-20 |R6 |Paul Daisey |All |Restructure document iaw SpecificationStructureAlternative3
|2013-06-24 |R6 |Pepijn Van Eeckhoudt |All |Created and applied Word Styles and Outline List Numbering
|2013-06-26 |R6 |Paul Daisey |1.1.2, 2.1.1, 2.1.4,  3.1.2, Annex C, D, F, G |GeoPackage Geometry Encoding Revisions
|2013-06-27 |R6 |Paul Daisey |3.1.3.1.1 |Add footnote recommendation on Spatial Index drop/add if many updates.
|2013-06-27 |R6 |Paul Daisey |Figure 1, 
2.2.6, 2.2.7 |Remove gpkg_tile_table_metadata table
|2013-06-28 |R6 |Paul Daisey |All |Change requirement statement format to Req # s SHALL o in bold italic
|2013-06-28 |R6 |Paul Daisey |Annex B |Update definition of Empty GeoPackage, add definition of Valid GeoPackage
|2013-06-28 |R6 |Paul Daisey |Figure 1, 2.2.7, Annex C, F |Change tile_matrxI_metadata t_table_name column name to table_name iaw changes to gpkg_geometry_columns column name changes.
|2013-06-28 |R6 |Paul Daisey |Figure 1, 
 2.1.5, 2.2.7,
Annex C, F |Add gpkg_geometry_columns and gpkg_tile_matrix_metadata table_name foreign key constraints referencing gpkg_contents table_name now that gpkg_contents rows may describe other data tables.
|2013-06-28 |R6 |Paul Daisey |Clause 3 |Tables with non "gpkg" author registered extensions not data_type "features" or "tiles"
|2013-07-01 |R7 |Paul Daisey |Annex A |Change ATS format from numbered list to bold heading, add test definitions.
|2013-07-02 |R7 |Paul Daisey |Annex A |Add test definitions.
|2013-07-03 |R7 |Paul Daisey |Annex A |Revise, add test definitions.
|2013-07-04 |R7 |Paul Daisey |1.1.1, Annex A |Change .geopackage to .gpkg
|2013-07-24 |R7 |Paul Daisey |Annex B |Add "Potential" to "Future Work", "MAY" to items.
|2013-07-24 |R7 |Paul Daisey |Annex B |Add support for UTFGrid as a future work item.
|2013-07-24 |R7 |Paul Daisey |1.1.1.1.1 |Add footnote to REQ 1 that SQLite is in the public domain.
|2013-07-24 |R7 |Paul Daisey |2.1.3.1.1 |Add footnote to Table 4 that OGC WKB is subset of ISO WKB
|2013-07-24 |R7 |Paul Daisey |2.1.3.1.1 |Revise definition of geometry type in Table 4 to include is_empty flag; add paragraph on encoding empty point geometries.
|2013-07-24 |R7 |Paul Daisey |Annex E |Revise spatial index triggers to handle NULL values.
|2013-07-31 |R7 |Paul Daisey |Annex C, F |Correct SQL errors in tables 13, 32, 43
|2013-07-31 |R7 |Paul Daisey |Annex D |Add ST_IsEmpty(geom. Geometry)
|2013-07-31  |R7 |Paul Daisey |Annex E
Table 39 |Revise spatial index triggers to handle empty geometries, changed ROWID values.
|2013-07-31 |R7 |Paul Daisey |Annex A
A.3.1.3.1.1 |Revise test method iaw changes to spatial index triggers
|2013-07-31 |R7 |Paul Daisey |2.1.3.1.1 |Envelope in geopackage geometry binary for empty geometry
|2013-07-31 |R7 |Paul Daisey |Annex A
A.2.1.2.1.1 |Revise test method to test for NaN values in envelope of empty geometries
|2013-08-01 |R8 |Paul Daisey |Submitting Organizations, Submission Contact Points |Moved Submitting Organizations to B2; deleted previous B2 Submission Contact Points
|2013-08-01 |R8 |Paul Daisey |1.1.3.1.1 
Table 3, 2.1.6.1.2, 
Annex A, C |Nullable gpkg_contents columns
One geometry column per feature table.
|2013-09-09 |R8 |Paul Daisey |Clause 3 |Add new Req 67 re gpkg_extensions table
|2013-09-09 |R8 |Paul Daisey |2.1.6.1.1 |remove footnote 1
|2013-09-09 |R8 |Paul Daisey |2.1.6.1.1,  Annex C |change no to yes for null in Table 6, 27 except for id column
|2013-09-09 |R8 |Paul Daisey |1.1.3.1.1 |Req 12 add gpkg_ prefix to gpkg_spatial_ref_sys 
|2013-09-09 |R8 |Paul Daisey |2.2 |remove "with compression" and "without compression from footnote 1
|2013-09-09 |R8 |Paul Daisey |2.6.1.1.1 |"an all of" changed to "all"
|2013-09-09 |R8 |Paul Daisey |2.2.6.1.2, Annex A |Add gpkg_ prefix to gpkg_tile_matrix_metdata
|2013-09-09 |R8 |Paul Daisey |2.2.7.1.1 |Space between 8and
|2013-09-09 |R8 |Paul Daisey |2.2.6.1.1 |Table 7 {RasterLayerName}_tiles change to Tile Matrix User Data Table Name
|2013-09-09 |R8 |Paul Daisey |3.1.3.1.2, 3.2.1.1.2, Annex C |Change gpkg_extension to gpkg_extensions
|2013-09-09 |R8 |Paul Daisey |3.2.3.1.1 |Remove [29] from GeoTiff, change [31] to [29] for NGA Implementation Profile
|2013-09-09 |R8 |Paul Daisey |Annex A |change "first three bytes of each gc are not "GPB"" to "first two bytes of each gc are not "GP"
|2013-09-09 |R8 |Paul Daisey |Annex A |Change (1,2,3) to (0,1,2)
|2013-09-09 |R8 |Paul Daisey |Annex D |add INTEGER return type to ST_ISEmpty, ST_Is3D, ST_ISMeasured functions
|2013-09-09 |R8 |Paul Daisey |2.1.1 |Add "more"
|2013-09-09 |R8 |Paul Daisey |Annex C |Add the following constraint to the gpkg_geometry_columns table: CONSTRAINT uk_gc_table_name UNIQUE (table_name),
|2013-09-09 |R8 |Paul Daisey |3.1.4.1.2, 3.1.5.1.2 |Change geopackage_extension to gpkg_extensions
|2013-09-18 |R8 |Paul Daisey |2.6.1, Annex A, Annex C |Add column 'scope text not null' to gpkg_extensions
|2013-09-18 |R8 |Paul Daisey |2.5 |Reword clause 2.5 to preclude reference to other data tables by rows in gpkg_geometry_columns or gpkg_tile_matrix_metadata tables.
Add data_type constraint to Req 19.
Add data_type constraint to Annex A tests.
|2013-09-18 |R8 |Paul Daisey |3.1, 3.3, Annex A, Annex D |Rename clause 3.3 Other Tables 
Move clause 3.1.1 Geometry Encoding to clause 3.3.1 Other Geometry Encoding 
Move clause 3.2.5 Tile Encoding Other to clause 3.3.2 Other Tile Encoding 
Rename clause 3.3.1 Other Trigger to clause 3.3.3 Other Trigger
Renumber contained requirements
Add footnote to Annex D table
Move corresponding tests in Annex A
|2013-09-24 |R8 |Paul Daisey |Annex E |Replace all occurences of 'rowid' with '<i>' in trigger definitions.
|2013-09-24 |R8 |Paul Daisey |All |Update normative [xx]and bibliographic  [Byy] references
|2013-09-25 |R8 |Paul Daisey |3.1, Annex A, Annex D, Annex F |Change geometry_columns to gpkg_geometry_columns and geometry_type to geometry_type_name
|2013-09-25 |R8 |Paul Daisey |2.2.3, 3.2.1, new Annex I |Change "power" to "factor" in and add text to zoom level descriptions and requirements.
|2013-09-25 |R8 |Paul Daisey |2.1.6, Annex A, Annex C |Add required data types for vector feature user data table column definitions. 
|2013-09-26 |R8 |Paul Daisey |New 2.3.2, Annex A, Annex C |Add gpkg_data_column_constraints table
|2013-09-26 |R8 |Paul Daisey |1.1.3, 2.2.1, 2.2.6, 2.2.7, 2.2.8, Annex A, Annex C |Add gpkg_tile_matrix_set, rename gpkg_tile_matrix_metadata to gpkg_tile_matrix, standardize tile pyramid, tile matrix set and tile matrix term usage.
|2013-09-27 |R8 |Paul Daisey |Figure 1 |Added gpkg_tile_matrix_set, gpkg_data_columns_constraints to Figure 1
|2013-09-27 |R8 |Paul Daisey |2.1.5.1 |Replace normative text in 2.1.5.1.1 with new requirement 19 in 2.1.5.1.2.
|2013-09-27 |R8 |Paul Daisey |All |Clarify which tables may be implemented as views or extended with additional columns.
|2013-09-27 |R8 |Paul Daisey |2.4.2.1.1 |Drop md_standard_uri default value, add footnote and text paragraph.
|2013-09-27 |R8 |Paul Daisey |All |Specify case sensitivity for required column values.
|2013-09-27 |R8 |Paul Daisey |All |Change SQL trigger action from ROLLBACK to ABORT
|2013-10-02 |R9 |Paul Daisey |1.1.2.1.1, Annex A |Add Null column to table 2 per table 22, remove default value, foreign and unique key tests from Annex A A.1.1.2.1.1
|2013-10-02 |R9 |Paul Daisey |All |Misc. Editorial corrections.
|2013-10-02 |R9 |Paul Daisey |Title Page |Changed title from Implementation Specification to Encoding Standard per Carl Reed email.
|2013-10-04 |R9 |Paul Daisey |1.1.1.1.3, Annex A |Add new Req 4 requirement for SQLite PRAGMA foreign_key_check()
|2013-10-04 |R9 |Paul Daisey |All |Disallow addition of columns to all gpkg tables except user data feature tables.
|2013-10-05 |R9 |Paul Daisey |Introduction, 
All, Annex B |GeoPackage replaces GeoPackage file
|2013-10-05 |R9 |Paul Daisey |Introduction, 
1.1.1.1.1,
Annex B |Add Extended GeoPackage definition
|2013-10-05 |R9 |Paul Daisey |Introduction Figure 1, 2.6, Annex C |Add definition column to gpkg_extensions table.
|2013-10-05 |R9 |Paul Daisey |Introduction, Annex B |Add GeoPackage SQLite Configuration definition
|2013-10-05 |R9 |Paul Daisey |Introduction, Annex B |Modify definition of GeoPackage SQLite Extension
|2013-10-05 |R9 |Paul Daisey |1 |Revise Container Definition, add new Req 1 and Req 3
|2013-10-05 |R9 |Paul Daisey |1.1.1.2.2 |Remove rows from Table 1 SQLite Configuration
|2013-10-05 |R9 |Paul Daisey |2.1.3.2 |Drop clause.  Required SQL functions to be defined in extension template documents.
|2013-10-05 |R9 |Paul Daisey |2.5.1 |New Introduction clause for Extension Mechanism
|2013-10-05 |R9 |Paul Daisey |2.5.2.1.2 |New Req 79, Req 83, revised Req 82, added explanatory text for Req 84, deleted Table 47
|2013-10-07 |R9 |Paul Daisey |1.1.1.2.2 |Move foreign key rows from Table 9 Safe GeoPackage to Table 1 SQLite Configuration
|2013-10-07 |R9 |Paul Daisey |2.5.2.1 |Extend Req 79 with semantic equivalence of empty and missing gpkg_extensions table.
|2013-10-07 |R9 |Paul Daisey |2.5.2.2 |Drop Clasue.  Required SQL Configuration settings to be defined in extension template documents.
|2013-10-07 |R9 |Paul Daisey |3.1.2 |New clause for Geometry Encoding Extension
|2013-10-07 |R9 |Paul Daisey |Annex J - S |New Extension Template and Extension Annexes
|2013-10-08 |R9 |Paul Daisey |1.1.1.2.2,  Annex M, N, O |Prohibit all SQLITE_OMIT_* compile time options instead of specific ones.
|2013-10-09 |R9 |Paul Daisey |3.\*.1.1 |Simplify extension prerequisite descriptions, reference extension annexes.
|2013-10-09 |R9 |Paul Daisey |Annexes J - S |Style subheadings as subtitles, add clause references
|2013-10-09 |R9 |Paul Daisey |2.1.3, Annex L |Replace GeoPackageBinary definition with StandardGeoPackageBinary definition.
|2013-10-09 |R9 |Paul Daisey |Introduction, 
2.3.2, 2.3.3, Annex C |1.  Drop constraint_type column from gpkg_data_columns, Req 60
2.  Add Req 61
3.  Change description of constraint name.
4.  Revise Figure 1 Table Diagram
|2013-10-09 |R9 |Paul Daisey |2.5.2.1.2 |Add guidance for extension template
|2013-10-09 |R9 |Paul Daisey |2.1.6.1.2 |Add footnote re further restrictions on the geometry types that are allowed in a feature table
|2013-10-09 |R9 |Paul Daisey |2.1.3.1.1 |Add footnote that WKB geometries are not geographic / geodesic
|2013-10-10 |R9 |Paul Daisey |1.1.1.1.2 |Change Req 3 SQLite database header required contents to include version number.
|2013-10-10 |R9 |Paul Daisey |Annex A |Add and revise tests in accordance with other R9 draft changes.
|2013-10-10 |R9 |Paul Daisey |2.3.3, Annex A |Add unique key on gpkg_data_column_constraints constraint_name, constraint_type, constraint_value columns;  Add new Req 63, ATS test
|2013-10-15 |R9 |Paul Daisey |Annex D |Drop D.1 Geometry Column Triggers
|2013-10-15 |R9 |Paul Daisey |Annex F |Drop Annex F
|2013-10-15 |R9 |Paul Daisey |2.3.3.1.2 |Remove first sentence on constrain name column values.
|2013-10-15 |R9 |Paul Daisey |Introduction,
2.3.3.1.1, Annex C |Add description column to gpkg_data_column_constraints table.
|2013-10-15 |R9 |Paul Daisey |2.3.3.1.2 |Drop requirement 61
|2013-10-15 |R9 |Paul Daisey |2.1.6.1.2 |Drop footnote 2 on p.13
|2013-10-15 |R9 |Paul Daisey |2.1.6.1.1 |Delete DECIMAL_TEXT row from Table 6
|2013-10-15 |R9 |Paul Daisey |1.1.1.1.1 |Move to 1.1.1.1.3, renumber requirements.
|2013-10-15 |R9 |Paul Daisey |2.1.6.1.1,
1.1.1.1.3 |Move Req 30 and Table 6 to Req5 and Table 1
|2013-10-15 |R9 |Paul Daisey |2.4.3.1.1, Annex C |Change timestamp column from TEXT to DATETIME data type
|2013-10-15 |R9 |Paul Daisey |All |Change data types to those specified in Table 1
|2013-10-15 |R9 |Paul Daisey |2.3.3.1.1 |Add NUMERIC data type footnote for table gpkg_data_column_constraints
|2013-10-15 |R9 |Paul Daisey |All |Misc editorial changes
|2013-10-22 |R9 |Paul Daisey |3.2.3, 3.2.4, Annex A |Remove TIFF and NITF tile encodings
|2013-10-22 |R9 |Paul Daisey |New 3.1.2.1.4, Annex A |New Req 91
|2013-10-22 |R9 |Paul Daisey |Annex K |Rewrite requirement description
|2013-10-22 |R9 |Paul Daisey |3.1.1, 3.1.2, Annex J, K |Renamed
|2013-10-22 |R9 |Paul Daisey |All  |Misc editorial changes
|2013-10-22 |R9 |Paul Daisey |Introduction, Annex B |Replace detailed table diagram in Introduction with an overview diagram; move detailed table diagram to Annex B, add minimal features and tiles diagrams to Annex B.
|2013-10-24 |R9 |Paul Daisey |1.1.1.1.3  |Specify 8601 formats for DATE and DATETIME in Table 1
|2013-10-24 |R9 |Paul Daisey |1.1.1.1.3  |{(size)} specs for BLOB and TEXT data types in Table 1
|2013-10-24 |R9 |Paul Daisey |2.1.3.1.1   Table 5 |Bit layout of flags byte and flag bits use -- additional text
|2013-10-24 |R9 |Paul Daisey |All  |Misc editorial changes
|2013-10-24 |R9 |Paul Daisey |Annex Q, R |Removed
|2013-10-24 |R9 |Paul Daisey |All, Annex S, T |Remove unused normative [xx]and bibliographic  [Byy] references, update remaining ones
|2013-11-11| R9 | Paul Daisey| All| Misc editorial changes, mostly formatting.
|2013-11-12| R9| Paul Daisey| Annex  C, G| Correct gpkg_metadata table definition SQL default values, metadata column type from BLOB to TEXT
|2013-11-12| R9| Paul Daisey| 1.1.1.1.1| Add footnote (3) to Req 2
|2013-11-12| R9| Paul Daisey| Annex L, O| Add http://www.sqlite.org/rtree.html 
|2013-11-12| R9| Paul Daisey| 2.2.6.1.1, 2.2.6.1.2| Cut sentence from 2.2.6.1.1, paste revised version and additional sentence describing origin georeferenced coordinates to 2.2.6.1.2.
|2013-11-12| R9| Paul Daisey| 2.3.3.1.2| Add a new third sentence in first paragraph; add new Table 13 example
|2013-11-12| R9| Paul Daisey| 1.1.3.1.1, 2.1.3.1.1, 2.2.6.1.1| Add x/y axis definitions to  min/max x/y column descriptions and WKB geometry description.
|2013-11-13| R9| Paul Daisey| 1.1.1.1.1| Revise footnote (3) to Req 2 to include byte values instead of long value.
|2013-11-13| R9| Jeff Yutzler, Paul Daisey| All| Misc editorial changes, mostly formatting.
|2013-11-18| R9| Paul Daisey| 1, 2.1.6.1.1, 2.2.8.1.1| Add "and table constraints" in clause 1, make INTEGER PRIMARY KEY AUTOINCREMENT explicit in Req 29 and Req 52 to avoid future "WITHOUT ROWID" SQLite v3.8.2 problems.
|2013-11-19| R9| Jeff Yutzler, Paul Daisey| All| Misc formatting changes.
|2013-11-21| R10| Paul Daisey| 1.1.1.4| Remove "()" from PRAGMA foreign_key_check()
|2013-11-21| R10| Paul Daisey| Annex C, G| Change metadata_standard_uri column name to md_standard_uri
|2013-12-26| R10| Paul Daisey| A.1.1.2.1.2 | Use the current gpkg_spatial_ref_sys table and column name definitions
|2013-12-28| R10| Paul Daisey| Annex Q| Add normative reference [32] to OpenGIS® 01-009
|2013-12-28| R10| Paul Daisey| 1.1.2.1.1| Add normative reference “[32]” to description of definition column in Table 3
|2013-12-28| R10| Paul Daisey| A.1.1.2.1.2 | /base/core/gpkg_spatial_ref_sys/data_values_default  revise step 3 SQL
|2013-12-28| R10| Paul Daisey| 1.1.2.1.2
|Add paragraph on definition column WKT values
|2013-12-31| R10| Paul Daisey| All| Misc editorial corrections.
|2013-12-31| R10| Paul Daisey| A.2.2.3.1.1, A.2.2.4.1.1| Change “extension_name IN ('gpkg_webp’,’gpkg_tiff’,’gpkg_nitf’)” to “extension_name = ‘gpkg_webp’”
|2013-12-31| R10| Paul Daisey| A.2.5.1.1.2| delete test steps 7 and 8:re tile encoding TIFF and NITF
|2013-12-31| R10| Paul Daisey| 2.2.7.1.1| remove the default column from Table 9
|2013-12-31| R10| Paul Daisey| 2.2.8.1.1| remove 3.2.3, 3.2.4  from table 10 tile_data column description
|2013-12-31| R10| Paul Daisey| Annex D.5| Change t_table_name to table_name in Table 41
|2013-12-31| R10| Paul Daisey| 2.1.5.1.2| Change “each geometry column” to “the geometry column” in Req 22
|2014-01-10| R10| Paul Daisey| 1.1.2.1.1| Rename Table 3 Spatial Ref Sys Table Definition
|2014-01-28| R10| Paul Daisey| 1.1.3.1.1, 2.4.3.1.1, Annex C, Annex H| strftime('%Y-%m-%dT%H:%M:%fZ', CURRENT_TIMESTAMP) changed to strftime('%Y-%m-%dT%H:%M:%fZ','now')
|=======================================================================

=== Changes to the OGC® Abstract Specification

The OGC® Abstract Specification does not require changes to accommodate this OGC® standard.

=== Changes to OGC® Implementation Standards

None at present.

=== Potential Future Work (Informative)

* MAY investigate GeoPackage implementation on SQLite version 4 <<B25>>.
* Future versions of this specification MAY include requirements for elevation data and routes.
* Future enhancements to this specification, a future GeoPackage Web Service specification and modifications to existing OGC Web Service (OWS) specifications to use GeoPackages as exchange formats MAY allow OWS to support provisioning of GeoPackages throughout an enterprise.
* Future versions of this specification MAY include additional raster / image formats, including fewer restrictions on the image/tiff format.
* Future versions of this specification MAY include additional SQL API routines for interrogation and conversion of raster / image BLOBs.
* Future versions of this specification and/or one for a GeoPackage Web Service MAY address utilities for importing and exporting vector, raster and tile data in various formats.
* Future versions of this specification and/or one for a GeoPackage Web Service MAY address encryption of GeoPackages and/or individual tables or column values.
* Future versions of this specification MAY add infrastructure to the metadata tables such as a `temporal_columns` table that refers to the time properties of data records.
* MAY specify a streaming synchronization protocol for GeoPackage as part of a future GeoPackage Web Service specification, and/or a future version of the GeoPackage and/or Web Synchronization Service specification(s).
* Future versions of this specification MAY address symbology and styling information.
* Future version of this specification MAY include geographic / geodesic geometry types.
* MAY create a GeoPackage Abstract Object Model to support data encodings other than SQL in a future version of this specification.
* MAY add https://github.com/mapbox/utfgrid-spec[UTFGrid] support in a future version of this specification

=== UML Notation

The diagrams that appear in this standard are presented using the Unified Modeling Language (UML) <<B14>> static structure diagrams.
The UML notations used in this standard for RDBMS tables in a GeoPackage are described in <<uml_notation_rdbms>> below.

[[uml_notation_rdbms]]
.UML Notation for RDBMS Tables
image::umlnotationforrdbmstables.png[]

In this standard, the following two stereotypes of UML classes are used to represent RDBMS tables:

a. \<<table>> An instantiation of a UML class as an RDMBS table.
b. \<<column>> An instantiation of a UML attribute as an RDBMS table column.

In this standard, the following standard data types are used for RDBMS
columns:

a. NULL – The value is a NULL value.
b. INTEGER – A signed integer, stored in 1, 2, 3, 4, 6, or 8 bytes depending on the magnitude of the value
c. REAL – The value is a floating point value, stored as an 8-byte IEEE floating point number.
d. TEXT – A sequence of characters, stored using the database encoding (UTF-8, UTF-16BE or UTF-16LE).
e. BLOB – The value is a blob of data, stored exactly as it was input.
f. NONE – The value is a Date / Time Timestamp

=== GeoPackage Tables Detailed Diagram

.GeoPackage Tables Details
image::geopackage-uml.png[]

=== GeoPackage Minimal Tables for Features Diagram

.GeoPackage Minimal Tables for Features
image::geopackage-features.png[]

=== GeoPackage Minimal Tables for Tiles Diagram

.GeoPackage Minimal Tables for Tiles
image::geopackage-tiles.png[]

